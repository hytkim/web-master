<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>리뷰 게시판 - yedam store</title>
    <link href="project.css" rel="stylesheet">
    <link href="board.css" rel="stylesheet">
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<body>
    <div id="container">
        <header>
          <div class="logo-container">
            <a href="index.html" id="logo-link"> <img src="logo.png" alt="Yedam Store 로고"> </a>
          </div>
          <nav>
            <ul class="menu-left">
              <li><a href="index.html#best" id="best-tab">베스트</a></li>
              <li><a href="index.html#search" id="search-tab">상품 조회</a></li>
              <li id="add-product-menu" class="admin-only" style="display: none;"><a href="#">상품 추가</a></li>
              <li><a href="board.html#reviews">리뷰 게시판</a></li>
              <li id="transaction-history-menu" style="display: none;"><a href="board.html#history">거래내역 조회</a></li>
            </ul>
            <div class="menu-right" id="auth-menu">
              <a href="#" id="open-login">로그인</a>
              <span class="divider">/</span>
              <a href="#" id="open-signup">회원가입</a>
            </div>
            <div class="user-wrapper" id="user-menu">
              <div class="user-info">
                <span class="user-name" id="user-name"></span>
                <span class="user-id" id="user-id"></span>
                <span class="user-point" id="user-point"></span>
              </div>
              <button class="logout-btn" id="logout-btn">로그아웃</button>
            </div>
          </nav>
        </header>

        <main class="board-main">
            <h1 id="page-title">리뷰 게시판</h1>
            
            <div id="content-container">
                <!-- 내용이 동적으로 여기에 삽입됩니다. -->
            </div>
        </main>

        <!-- Review Write/Edit Popup -->
        <div class="review-popup-container" id="review-popup-wrapper" style="display: none;">
            <div class="popup" id="review-popup">
                <span class="close-btn" id="review-close-btn">&times;</span>
                <h2 id="review-popup-title">리뷰 작성</h2>
                <form name="reviewForm">
                    <input type="hidden" name="items_no">
                    <div class="review-popup-item-name" id="review-item-name"></div>
                    <label>제목:<input type="text" name="board_title" required /></label>
                    <label>내용:<textarea name="board_content" rows="10" required></textarea></label>
                    <button type="submit" class="submit">리뷰 등록</button>
                </form>
            </div>
        </div>
    </div>

    <div class="popup-wrapper">
      <div class="popup" id="main-popup">
        <span class="close-btn">&times;</span>
        <img src="logo.png" style="display: block; margin: 0 auto 20px; height: 100px;">
        
        <nav>
          <button data-target="login" class="active">로그인</button>
          <button data-target="find-id">아이디 찾기</button>
          <button data-target="find-pw">비밀번호 찾기</button>
          <button data-target="signup">회원가입</button>
        </nav>

        <section id="login" class="active">
          <h2>로그인</h2>
          <form name="loginForm">
            <label>아이디:<input type="text" name="username" id="username" required /></label>
            <label>비밀번호:<input type="password" name="password" id="password" required /></label>
            <button type="submit" class="submit">로그인</button>
          </form>
        </section>

        <section id="find-id">
          <h2>아이디 찾기</h2>
          <form name="findIdForm">
            <label>이름:<input id="id_search_name" type="text" name="userName" required /></label>
            <label>주소:</label>
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
              <input type="text" name="postcode" id="id_serch_postcode" placeholder="우편번호" readonly style="flex-grow: 1;">
              <button type="button" onclick="execDaumPostcode_id()" style="flex-shrink: 0; margin-left: 5px; padding: 0.8rem;">주소 검색</button>
            </div>
            <input type="text" name="address" id="id_searchaddress" placeholder="주소" readonly style="margin-bottom: 0.5rem;">
            <input type="text" name="detailAddress" id="id_searchdetailAddress" placeholder="상세주소까지 정확하게 입력" required>
            <input type="hidden" name="extraAddress" id="id_searchextraAddress">
            <button type="submit" class="submit">아이디 찾기</button>
          </form>
          <div class="message" id="find-id-msg"></div>
        </section>

        <section id="find-pw">
          <h2>비밀번호 찾기</h2>
          <form name="findPwForm">
            <label>아이디:<input id="pw_search_id" type="text" name="userId" required /></label>
            <label>주소:</label>
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
              <input type="text" name="postcode" id="pw_search_postcode" placeholder="우편번호" readonly style="flex-grow: 1;">
              <button type="button" onclick="execDaumPostcode_pw()" style="flex-shrink: 0; margin-left: 5px; padding: 0.8rem;">주소 검색</button>
            </div>
            <input type="text" name="address" id="pw_searchaddress" placeholder="주소" readonly style="margin-bottom: 0.5rem;">
            <input type="text" name="detailAddress" id="pw_searchdetailAddress" placeholder="상세주소까지 정확하게 입력">
            <input type="hidden" name="extraAddress" id="pw_searchextraAddress">
            <button type="submit" class="submit">비밀번호 찾기</button>
          </form>
          <div class="message" id="find-pw-msg"></div>
        </section>
        
        <section id="signup">
          <h2>회원가입</h2>
          <form action="/signup" method="post" name="signupForm">
            <label>아이디:<input id="signup_id" type="text" name="userId" required /></label>
            <label>비밀번호:<input id="signup_pw" type="password" name="userPw" required /></label>
            <label>비밀번호 확인:<input id="signup_pw2" type="password" name="userPw2" required /></label>
            <label>이름:<input id="signup_name" type="text" name="userName" required /></label>
            
            <label>주소:</label>
            <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
              <input type="text" name="postcode" id="signup_postcode" placeholder="우편번호" readonly style="flex-grow: 1;">
              <button type="button" onclick="execDaumPostcode()" style="flex-shrink: 0; margin-left: 5px; padding: 0.8rem;">주소 검색</button>
            </div>
            <input type="text" name="address" id="signup_address" placeholder="주소" readonly style="margin-bottom: 0.5rem;">
            <input type="text" name="detailAddress" id="signup_detailAddress" placeholder="상세주소">
            <input type="hidden" name="extraAddress" id="signup_extraAddress">
            <label style="margin-top: 1rem;">생년월일:<input id="signup_userBirth" type="date" name="userBirth" required /></label>
            <button type="submit" class="submit">가입하기</button>
          </form>
              </section>
        
              <section id="add-product">
                <h2>새 상품 추가</h2>
                <form name="addProductForm">
                  <label>상품명:<input type="text" name="items_name" required /></label>
                  <label>가격:<input type="number" name="items_price" required /></label>
                  <label>카테고리:<input type="text" name="items_category" placeholder="예: 과일, 채소" required /></label>
                  <label>이미지 URL:<input type="text" name="items_image" placeholder="https://example.com/image.png" /></label>
                  <label>상세정보:<textarea name="items_info" rows="4"></textarea></label>
                  <button type="submit" class="submit">상품 등록</button>
                </form>
              </section>
        
              <section id="session-timeout">          <h2>세션 만료</h2>
          <p>장시간 활동이 없어 안전을 위해 자동으로 로그아웃되었습니다.</p>
          <p>다시 로그인해주세요.</p>
          <button type="button" class="submit" id="session-ok-btn">확인</button>
        </section>

      </div>
    </div>

    <script src="board.js" defer></script>
    <script src="project.js" defer></script>
</body>
</html>
